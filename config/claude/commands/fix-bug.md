---
description: 修复 Bug。进入 plan mode 分析问题根因，区分需求调整与 bug 修复，制定解决方案后逐个修复。
---

# Bug 修复工作流

## 1. 进入 Plan Mode

使用 `/plan` 命令进入计划模式，确保在修改代码前充分理解问题。

## 2. 问题分类

| 类型     | 特征                       | 处理方式           |
| -------- | -------------------------- | ------------------ |
| Bug 修复 | 运行时错误、逻辑缺陷       | 定位根因，修复代码 |
| 需求调整 | 功能与期望不符、需新增功能 | 确认变更，评估影响 |

类型不明确时，使用 AskUserQuestion 询问用户确认。

## 3. 问题分析

对每个问题输出：

- **类型**：Bug / 需求调整
- **现象**：用户观察到的异常行为
- **根因**：代码层面的问题原因
- **涉及文件**：`path/to/file.ts:行号`
- **解决方案**：具体修复步骤

## 4. 逐个修复

按优先级逐项修复并验证；需要跟踪时再用 TodoWrite。
